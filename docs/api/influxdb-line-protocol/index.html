<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="fsharechat">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@questdb">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="shortcut icon" href="https://https://fsharechat.github.io//img/favicon.png">
<link rel="apple-touch-icon" sizes="48x48" href="/img/icons/icon-48x48.png">
<link rel="apple-touch-icon" sizes="72x72" href="/img/icons/icon-72x72.png">
<link rel="apple-touch-icon" sizes="96x96" href="/img/icons/icon-96x96.png">
<link rel="apple-touch-icon" sizes="144x144" href="/img/icons/icon-144x144.png">
<link rel="apple-touch-icon" sizes="192x192" href="/img/icons/icon-192x192.png">
<link rel="apple-touch-icon" sizes="256x256" href="/img/icons/icon-256x256.png">
<link rel="apple-touch-icon" sizes="384x384" href="/img/icons/icon-384x384.png">
<link rel="apple-touch-icon" sizes="512x512" href="/img/icons/icon-512x512.png">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Time series data, faster Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Time series data, faster Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Time series data, faster" href="/opensearch.xml">
<link rel="icon" href="/img/favicon.png">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="apple-touch-icon" href="/img/favicon.png">
<link rel="mask-icon" href="/img/favicon.png" content="#fff">
<meta name="msapplication-TileImage" content="/img/favicon.png">
<meta name="msapplication-TileColor" content="#21222c"><title data-react-helmet="true">InfluxDB line protocol | Time series data, faster</title><meta data-react-helmet="true" property="og:image" content="https://https://fsharechat.github.io//img/og.png"><meta data-react-helmet="true" name="twitter:image" content="https://https://fsharechat.github.io//img/og.png"><meta data-react-helmet="true" name="twitter:description" content="QuestDB is an open source database designed to make time-series lightning fast and easy. It exposes a high performance REST API and supports Postgres wire."><meta data-react-helmet="true" name="twitter:title" content="Introduction | Time series data, faster"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Introduction | Time series data, faster&quot;"><meta data-react-helmet="true" property="og:title" content="InfluxDB line protocol | Time series data, faster"><meta data-react-helmet="true" name="description" content="Tutorial showing how to use InfluxDB line protocol. QuestDB can listen for packets both over TCP and UDP."><meta data-react-helmet="true" property="og:description" content="Tutorial showing how to use InfluxDB line protocol. QuestDB can listen for packets both over TCP and UDP."><meta data-react-helmet="true" property="og:url" content="https://https://fsharechat.github.io//docs/api/influxdb-line-protocol"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://https://fsharechat.github.io//docs/api/influxdb-line-protocol"><link rel="stylesheet" href="/styles.2a8a7e1b.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Fast SQL open source database for time series - QuestDB">
<meta itemprop="description" content="QuestDB is an open source database designed to make time-series lightning fast and easy. It exposes a high performance REST API and supports Postgres wire.">
<meta itemprop="url" content="https://https://fsharechat.github.io/">
<meta itemprop="logo" content="https://https://fsharechat.github.io//img/favicon.png">
<meta itemprop="sameAs" content="https://twitter.com/questdb">
<meta itemprop="sameAs" content="https://www.linkedin.com/company/questdb/">
<meta itemprop="sameAs" content="https://www.crunchbase.com/organization/quest-db">
<meta itemprop="sameAs" content="https://github.com/questdb">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner inner_3txf"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_9Wyn" href="/"><img alt="QuestDB" class="navbar__logo" src="/img/navbar/fshare.svg"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Install</a><ul class="dropdown__menu"><li><a class="dropdown__link" position="left" href="/docs/guide/docker/">Docker</a></li><li><a class="dropdown__link" position="left" href="/docs/guide/homebrew/">Homebrew</a></li><li><a class="dropdown__link" position="left" href="/docs/guide/binaries/">From the binaries</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/introduction/">Documentation</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/questdb/questdb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--github">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button><a class="getStarted_1xnS button_Ni2_ button--primary_316O button--uppercase_35Ce button--xsmall_3jz_" href="/getstarted/">Get Started</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_9Wyn" href="/"><img alt="QuestDB" class="navbar__logo" src="/img/navbar/fshare.svg"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">Install</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/docker/">Docker</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/docs/guide/binaries/">From the binaries</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/introduction/">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/questdb/questdb" target="_blank" rel="noopener noreferrer" class="menu__link navbar__item--github">GitHub</a></li></ul></div></div></div></nav><div class="wrapper_1hNx"><div class="doc_2sKW"><div class="docs-sidebar doc__sidebar_1koD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concept/storage-model">Storage model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concept/designated-timestamp">Designated timestamp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concept/sql-extensions">SQL extensions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concept/partitions">Partitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concept/symbol">Symbol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concept/indexes">Indexes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Setting up QuestDB</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/homebrew">Homebrew</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/binaries">From the binaries</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Using QuestDB</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/web-console">Web Console</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/postgres-wire">Postgres wire (alpha)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/rest">REST API</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/crud">CRUD operations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide/my-first-database">My first database</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/go">Go</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/jdbc">JDBC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/nodejs">NodeJS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorial/psql">PSQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Packages</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/packages/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/packages/homebrew">Homebrew</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/packages/binaries">Binaries</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">API</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/api/influxdb-line-protocol">InfluxDB line protocol</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/java">Java (embedded)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/rest">REST</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/configuration/root-directory-structure">Root directory</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/configuration/server">server.conf</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/configuration/telemetry">Telemetry</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/aggregation">Aggregation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/date-time">Date and time</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/meta">Meta</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/numeric">Numeric</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/random-value-generator">Random value generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/row-generator">Row generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/text">Text</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/timestamp-generator">Timestamp generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/function/timestamp">Timestamp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/concept/sql-execution-order">SQL execution order</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/datatypes">Data types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/alter-table-add-column">ALTER TABLE ADD COLUMN</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-add-index">ALTER TABLE COLUMN ADD INDEX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/alter-table-drop-column">ALTER TABLE DROP COLUMN</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/alter-table-drop-partition">ALTER TABLE DROP PARTITION</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/backup">BACKUP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/case">CASE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/cast">CAST</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/copy">COPY</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/create-table">CREATE TABLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/distinct">DISTINCT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/except-intersect">EXCEPT &amp; INTERSECT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/fill">FILL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/drop">DROP TABLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/group-by">GROUP BY</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/insert">INSERT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/join">JOIN</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/latest-by">LATEST BY</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/limit">LIMIT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/order-by">ORDER BY</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/rename">RENAME TABLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/sample-by">SAMPLE BY</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/select">SELECT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/show">SHOW</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/truncate">TRUNCATE TABLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/union">UNION</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/where">WHERE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/sql/with">WITH</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/web-console">Web Console</a></li></ul></li></ul></div></div></div><main class="doc__main_23K2"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">InfluxDB line protocol</h1></header><div class="markdown"><p>InfluxDB line protocol ingestion makes it easy for existing InfluxDB users to
try QuestDB by only changing the address they send data to.</p><p>It is not necessary to create a table schema beforehand: the table will be
created on the fly. If new columns are added, the table is automatically updated
to reflect the new structure.</p><p>QuestDB can listen for line protocol packets both over <a href="#tcp-receiver">TCP</a> and
<a href="#udp-receiver">UDP</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="using-line-protocol"></a>Using line protocol<a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-line-protocol" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="syntax"></a>Syntax<a aria-hidden="true" tabindex="-1" class="hash-link" href="#syntax" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1XEh"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_3nn1">ILP syntax</div><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd undefined">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC codeBlockWithTitle_3QsD"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">table_name,tagset valueset timestamp</span></div></div></div></div></div><table><thead><tr><th>Element</th><th>Definition</th></tr></thead><tbody><tr><td><code>table_name</code></td><td>Name of the table where QuestDB will write data.</td></tr><tr><td><code>tagset</code></td><td>Array of string key-value pairs separated by commas that represent the reading&#x27;s associated metadata</td></tr><tr><td><code>values</code></td><td>Array of key-value pairs separated by commas that represent the readings. The keys are string, values can be numeric or boolean</td></tr><tr><td><code>timestamp</code></td><td>UNIX timestamp. By default in microseconds. Can be changed in the configuration</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="behaviour"></a>Behaviour<a aria-hidden="true" tabindex="-1" class="hash-link" href="#behaviour" title="Direct link to heading">#</a></h3><ul><li>When the <code>table_name</code> does not correspond to an existing table, QuestDB will
create the table on the fly using the name provided. Column types will be
automatically recognized and assigned based on the data.</li><li>The <code>timestamp</code> column is automatically created as
<a href="/docs/concept/designated-timestamp/">designated timestamp</a> with the
<a href="/docs/concept/partitions/">partition strategy</a> set to <code>NONE</code>. If you would
like to define a partition strategy, you should
<a href="/docs/reference/sql/create-table/">CREATE</a> the table beforehand.</li><li>When the timestamp is empty, QuestDB will use the server timestamp.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="examples"></a>Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#examples" title="Direct link to heading">#</a></h3><p>Let&#x27;s assume the following data:</p><table><thead><tr><th>timestamp</th><th>city</th><th>temperature</th><th>humidity</th><th>make</th></tr></thead><tbody><tr><td>1465839830100400000</td><td>London</td><td>23.5</td><td>0.343</td><td>Omron</td></tr><tr><td>1465839830100600000</td><td>Bristol</td><td>23.2</td><td>0.443</td><td>Honeywell</td></tr><tr><td>1465839830100700000</td><td>London</td><td>23.6</td><td>0.358</td><td>Omron</td></tr></tbody></table><p>Line protocol to insert this data in the <code>readings</code> table would look like this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">readings,city</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">London,make</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">Omron </span><span class="token assign-left variable" style="color:#ff79c6">temperature</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">23.5</span><span class="token plain">,humidity</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">0.343</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1465839830100400000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">readings,city</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">Bristol,make</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">Honeywell </span><span class="token assign-left variable" style="color:#ff79c6">temperature</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">23.2</span><span class="token plain">,humidity</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">0.443</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1465839830100600000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">readings,city</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">London,make</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">Omron </span><span class="token assign-left variable" style="color:#ff79c6">temperature</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">23.6</span><span class="token plain">,humidity</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">0.348</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1465839830100700000</span></div></div></div></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>There are only 2 spaces in each line. First between the <code>tagset</code> and <code>values</code>.
Second between <code>values</code> and <code>timestamp</code>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="dealing-with-irregularly-structured-data"></a>Dealing with irregularly-structured data<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dealing-with-irregularly-structured-data" title="Direct link to heading">#</a></h3><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>QuestDB can support on-the-fly data structure changes with minimal overhead.
Should users decide to send varying quantities of readings or metadata tags for
different entries, QuestDB will adapt on the fly.</p></div></div><p>InfluxDB line protocol makes it possible to send data under different shapes.
Each new entry may contain certain metadata tags or readings, and others not.
Whilst the example just above highlights structured data, it is possible for
InfluxDB line protocol users to send data as follows.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">readings,city</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">London </span><span class="token assign-left variable" style="color:#ff79c6">temperature</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">23.2</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1465839830100400000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">readings,city</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">London </span><span class="token assign-left variable" style="color:#ff79c6">temperature</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">23.6</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1465839830100700000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">readings,make</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">Honeywell </span><span class="token assign-left variable" style="color:#ff79c6">temperature</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">23.2</span><span class="token plain">,humidity</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">0.443</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1465839830100800000</span></div></div></div></div></div><p>Note that on the third line,</p><ul><li>a new <code>tag</code> is added: &quot;make&quot;</li><li>a new <code>field</code> is added: &quot;humidity&quot;</li></ul><p>After writing two entries, the data would look like this</p><table><thead><tr><th>timestamp</th><th>city</th><th>temperature</th></tr></thead><tbody><tr><td>1465839830100400000</td><td>London</td><td>23.5</td></tr><tr><td>1465839830100700000</td><td>London</td><td>23.6</td></tr></tbody></table><p>The third entry would result in the following table</p><table><thead><tr><th>timestamp</th><th>city</th><th>temperature</th><th>humidity</th><th>make</th></tr></thead><tbody><tr><td>1465839830100400000</td><td>London</td><td>23.5</td><td>NULL</td><td>NULL</td></tr><tr><td>1465839830100700000</td><td>London</td><td>23.6</td><td>NULL</td><td>NULL</td></tr><tr><td>1465839830100800000</td><td>NULL</td><td>23.2</td><td>0.358</td><td>Honeywell</td></tr></tbody></table><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Adding columns on the fly is no issue for QuestDB. New columns will be created
in the affected partitions, and only populated if they contain values. Whilst we
offer this function for flexibility. However, we recommend that users try to
minimise structural changes to maintain operational simplicity.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="tcp-receiver"></a>TCP receiver<a aria-hidden="true" tabindex="-1" class="hash-link" href="#tcp-receiver" title="Direct link to heading">#</a></h2><p>The TCP receiver can handle both single and multi-row write requests. It is
fully multi-threaded and customizable. It can work from the common worker pool
or out of dedicated threads. A load balancing mechanism dynamically assigns work
between the threads.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview" title="Direct link to heading">#</a></h3><p>By default, QuestDB listens to line protocol packets over TCP on <code>0.0.0.0:9009</code>.
If you are running QuestDB with Docker, you will need to map port 9009 using
<code>-p 9009:9009 --net=host</code>. This port can be customised.</p><p>The TCP receiver uses two types of threads.</p><ul><li><strong>Worker threads</strong> - write data to the different tables. Each worker is
writing to designated tables. The worker-table repartition is modified over
time by the load balancing jobs.</li><li><strong>Network IO thread</strong> - receives messages from the network and adds them in a
queue for the writers. The network IO thread does not have a dedicated thread.
Instead, it shares a common thread with the least busy worker.</li></ul><p>The workflow is as follows.</p><p><img alt="InfluxDB line protocol structure diagram" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MjMiIGhlaWdodD0iMjU3Ij4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgICAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgICAgICAgICAgIC5saW5lICAgICAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiAjNjM2MjczO30KICAgICAgICAgICAgICAgIC5ib2xkLWxpbmUgICAgICAgICAgICB7c3Ryb2tlOiAjNjM2MjczOyBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IHN0cm9rZS13aWR0aDogMjsgfQogICAgICAgICAgICAgICAgLnRoaW4tbGluZSAgICAgICAgICAgIHtzdHJva2U6ICM2MzYyNzM7IHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlc30KICAgICAgICAgICAgICAgIC5maWxsZWQgICAgICAgICAgICAgICB7ZmlsbDogIzYzNjI3Mzsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHRleHQudGVybWluYWwgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgZmlsbDogI2ZmZmZmZjsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGV4dC5ub250ZXJtaW5hbCAgICAgIHtmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIFVidW50dSwgQ2FudGFyZWxsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBmaWxsOiAjZTI4OWE0OwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRleHQucmVnZXhwICAgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgZmlsbDogIzAwMTQxRjsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZWN0LCBjaXJjbGUsIHBvbHlnb24ge2ZpbGw6IG5vbmU7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgICAgICByZWN0LnRlcm1pbmFsICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgICAgICAgICAgICByZWN0Lm5vbnRlcm1pbmFsICAgICAge2ZpbGw6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHJlY3QudGV4dCAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHBvbHlnb24ucmVnZXhwICAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgICAgICA8L3N0eWxlPgogICAgPC9kZWZzPgogICAgPHBvbHlnb24gcG9pbnRzPSI5IDE3IDEgMTMgMSAyMSIvPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNyAxNyA5IDEzIDkgMjEiLz48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI3VzZXJfMSIgeGxpbms6dGl0bGU9InVzZXJfMSI+CiAgICA8cmVjdCB4PSI1MSIgeT0iMyIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSI0OSIgeT0iMSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNTkiIHk9IjIxIj51c2VyXzE8L3RleHQ+PC9hPjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjdXNlcl8yIiB4bGluazp0aXRsZT0idXNlcl8yIj4KICAgIDxyZWN0IHg9IjUxIiB5PSI0NyIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSI0OSIgeT0iNDUiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjU5IiB5PSI2NSI+dXNlcl8yPC90ZXh0PjwvYT48cmVjdCB4PSI1MSIgeT0iOTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSI0OSIgeT0iODkiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNTkiIHk9IjEwOSI+Li4uPC90ZXh0PgogICAgPHJlY3QgeD0iMTU1IiB5PSIzIiB3aWR0aD0iMTA4IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgIDxyZWN0IHg9IjE1MyIgeT0iMSIgd2lkdGg9IjEwOCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMTYzIiB5PSIyMSI+VENQIHJlcXVlc3RzPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjbmV0d29ya19JT190aHJlYWQiIHhsaW5rOnRpdGxlPSJuZXR3b3JrX0lPX3RocmVhZCI+CiAgICA8cmVjdCB4PSIyODMiIHk9IjMiIHdpZHRoPSIxNDQiIGhlaWdodD0iMzIiLz4KICAgIDxyZWN0IHg9IjI4MSIgeT0iMSIgd2lkdGg9IjE0NCIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjI5MSIgeT0iMjEiPm5ldHdvcmtfSU9fdGhyZWFkPC90ZXh0PjwvYT48cmVjdCB4PSI0NDciIHk9IjMiIHdpZHRoPSIxMDYiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iNDQ1IiB5PSIxIiB3aWR0aD0iMTA2IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI0NTUiIHk9IjIxIj53cml0ZV9xdWV1ZTwvdGV4dD48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI3dvcmtlcl8xIiB4bGluazp0aXRsZT0id29ya2VyXzEiPgogICAgPHJlY3QgeD0iNTkzIiB5PSIzIiB3aWR0aD0iNzgiIGhlaWdodD0iMzIiLz4KICAgIDxyZWN0IHg9IjU5MSIgeT0iMSIgd2lkdGg9Ijc4IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNjAxIiB5PSIyMSI+d29ya2VyXzE8L3RleHQ+PC9hPjxyZWN0IHg9IjY5MSIgeT0iMyIgd2lkdGg9IjU2IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgIDxyZWN0IHg9IjY4OSIgeT0iMSIgd2lkdGg9IjU2IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI2OTkiIHk9IjIxIj53cml0ZTwvdGV4dD48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI3RhYmxlXzEiIHhsaW5rOnRpdGxlPSJ0YWJsZV8xIj4KICAgIDxyZWN0IHg9Ijc4NyIgeT0iMyIgd2lkdGg9IjY4IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSI3ODUiIHk9IjEiIHdpZHRoPSI2OCIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9Ijc5NSIgeT0iMjEiPnRhYmxlXzE8L3RleHQ+PC9hPjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjdGFibGVfMiIgeGxpbms6dGl0bGU9InRhYmxlXzIiPgogICAgPHJlY3QgeD0iNzg3IiB5PSI0NyIgd2lkdGg9IjY4IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSI3ODUiIHk9IjQ1IiB3aWR0aD0iNjgiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgPHRleHQgY2xhc3M9Im5vbnRlcm1pbmFsIiB4PSI3OTUiIHk9IjY1Ij50YWJsZV8yPC90ZXh0PjwvYT48cmVjdCB4PSI3ODciIHk9IjkxIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iNzg1IiB5PSI4OSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI3OTUiIHk9IjEwOSI+Li4uPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjd29ya2VyXzIiIHhsaW5rOnRpdGxlPSJ3b3JrZXJfMiI+CiAgICA8cmVjdCB4PSI1OTMiIHk9IjEzNSIgd2lkdGg9Ijc4IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSI1OTEiIHk9IjEzMyIgd2lkdGg9Ijc4IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNjAxIiB5PSIxNTMiPndvcmtlcl8yPC90ZXh0PjwvYT48cmVjdCB4PSI2OTEiIHk9IjEzNSIgd2lkdGg9IjU2IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgIDxyZWN0IHg9IjY4OSIgeT0iMTMzIiB3aWR0aD0iNTYiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjY5OSIgeT0iMTUzIj53cml0ZTwvdGV4dD48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI3RhYmxlXzMiIHhsaW5rOnRpdGxlPSJ0YWJsZV8zIj4KICAgIDxyZWN0IHg9Ijc4NyIgeT0iMTM1IiB3aWR0aD0iNjgiIGhlaWdodD0iMzIiLz4KICAgIDxyZWN0IHg9Ijc4NSIgeT0iMTMzIiB3aWR0aD0iNjgiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgPHRleHQgY2xhc3M9Im5vbnRlcm1pbmFsIiB4PSI3OTUiIHk9IjE1MyI+dGFibGVfMzwvdGV4dD48L2E+PGEgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhsaW5rOmhyZWY9IiN0YWJsZV80IiB4bGluazp0aXRsZT0idGFibGVfNCI+CiAgICA8cmVjdCB4PSI3ODciIHk9IjE3OSIgd2lkdGg9IjY4IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSI3ODUiIHk9IjE3NyIgd2lkdGg9IjY4IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNzk1IiB5PSIxOTciPnRhYmxlXzQ8L3RleHQ+PC9hPjxyZWN0IHg9Ijc4NyIgeT0iMjIzIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iNzg1IiB5PSIyMjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNzk1IiB5PSIyNDEiPi4uLjwvdGV4dD4KICAgIDxwYXRoIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJsaW5lIiBkPSJtMTcgMTcgaDIgbTIwIDAgaDEwIG02NCAwIGgxMCBtLTEwNCAwIGgyMCBtODQgMCBoMjAgbS0xMjQgMCBxMTAgMCAxMCAxMCBtMTA0IDAgcTAgLTEwIDEwIC0xMCBtLTExNCAxMCB2MjQgbTEwNCAwIHYtMjQgbS0xMDQgMjQgcTAgMTAgMTAgMTAgbTg0IDAgcTEwIDAgMTAgLTEwIG0tOTQgMTAgaDEwIG02NCAwIGgxMCBtLTk0IC0xMCB2MjAgbTEwNCAwIHYtMjAgbS0xMDQgMjAgdjI0IG0xMDQgMCB2LTI0IG0tMTA0IDI0IHEwIDEwIDEwIDEwIG04NCAwIHExMCAwIDEwIC0xMCBtLTk0IDEwIGgxMCBtMzIgMCBoMTAgbTAgMCBoMzIgbTIwIC04OCBoMTAgbTEwOCAwIGgxMCBtMCAwIGgxMCBtMTQ0IDAgaDEwIG0wIDAgaDEwIG0xMDYgMCBoMTAgbTIwIDAgaDEwIG03OCAwIGgxMCBtMCAwIGgxMCBtNTYgMCBoMTAgbTIwIDAgaDEwIG02OCAwIGgxMCBtLTEwOCAwIGgyMCBtODggMCBoMjAgbS0xMjggMCBxMTAgMCAxMCAxMCBtMTA4IDAgcTAgLTEwIDEwIC0xMCBtLTExOCAxMCB2MjQgbTEwOCAwIHYtMjQgbS0xMDggMjQgcTAgMTAgMTAgMTAgbTg4IDAgcTEwIDAgMTAgLTEwIG0tOTggMTAgaDEwIG02OCAwIGgxMCBtLTk4IC0xMCB2MjAgbTEwOCAwIHYtMjAgbS0xMDggMjAgdjI0IG0xMDggMCB2LTI0IG0tMTA4IDI0IHEwIDEwIDEwIDEwIG04OCAwIHExMCAwIDEwIC0xMCBtLTk4IDEwIGgxMCBtMzIgMCBoMTAgbTAgMCBoMzYgbS0zMDIgLTg4IGgyMCBtMzAyIDAgaDIwIG0tMzQyIDAgcTEwIDAgMTAgMTAgbTMyMiAwIHEwIC0xMCAxMCAtMTAgbS0zMzIgMTAgdjExMiBtMzIyIDAgdi0xMTIgbS0zMjIgMTEyIHEwIDEwIDEwIDEwIG0zMDIgMCBxMTAgMCAxMCAtMTAgbS0zMTIgMTAgaDEwIG03OCAwIGgxMCBtMCAwIGgxMCBtNTYgMCBoMTAgbTIwIDAgaDEwIG02OCAwIGgxMCBtLTEwOCAwIGgyMCBtODggMCBoMjAgbS0xMjggMCBxMTAgMCAxMCAxMCBtMTA4IDAgcTAgLTEwIDEwIC0xMCBtLTExOCAxMCB2MjQgbTEwOCAwIHYtMjQgbS0xMDggMjQgcTAgMTAgMTAgMTAgbTg4IDAgcTEwIDAgMTAgLTEwIG0tOTggMTAgaDEwIG02OCAwIGgxMCBtLTk4IC0xMCB2MjAgbTEwOCAwIHYtMjAgbS0xMDggMjAgdjI0IG0xMDggMCB2LTI0IG0tMTA4IDI0IHEwIDEwIDEwIDEwIG04OCAwIHExMCAwIDEwIC0xMCBtLTk4IDEwIGgxMCBtMzIgMCBoMTAgbTAgMCBoMzYgbTQzIC0yMjAgaC0zIi8+CiAgICA8cG9seWdvbiBwb2ludHM9IjkxMyAxNyA5MjEgMTMgOTIxIDIxIi8+CiAgICA8cG9seWdvbiBwb2ludHM9IjkxMyAxNyA5MDUgMTMgOTA1IDIxIi8+PC9zdmc+Cg=="></p><p>The network IO thread receives write requests and sets up a queue for the
workers. Workers pick up write requests for their assigned tables and insert the
data.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="load-balancing"></a>Load balancing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#load-balancing" title="Direct link to heading">#</a></h3><p>A load balancing job reassigns work between threads in order to relieve the
busiest threads and maintain high ingestion speed. It can be triggered in two
ways.</p><ul><li>After a certain number of updates per table</li><li>After a certain amount of time has passed</li></ul><p>Once either is met, QuestDB will calculate a load ratio as the number of writes
by the busiest thread divided by the number of writes in the least busy thread.
If this ratio is above the threshold, the table with the least writes in the
busiest worker thread will be reassigned to the least busy worker thread.</p><p><img alt="InfluxDB line protocol load balancing diagram" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MzEiIGhlaWdodD0iMTU3Ij4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgICAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgICAgICAgICAgIC5saW5lICAgICAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiAjNjM2MjczO30KICAgICAgICAgICAgICAgIC5ib2xkLWxpbmUgICAgICAgICAgICB7c3Ryb2tlOiAjNjM2MjczOyBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IHN0cm9rZS13aWR0aDogMjsgfQogICAgICAgICAgICAgICAgLnRoaW4tbGluZSAgICAgICAgICAgIHtzdHJva2U6ICM2MzYyNzM7IHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlc30KICAgICAgICAgICAgICAgIC5maWxsZWQgICAgICAgICAgICAgICB7ZmlsbDogIzYzNjI3Mzsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHRleHQudGVybWluYWwgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgZmlsbDogI2ZmZmZmZjsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGV4dC5ub250ZXJtaW5hbCAgICAgIHtmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIFVidW50dSwgQ2FudGFyZWxsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBmaWxsOiAjZTI4OWE0OwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRleHQucmVnZXhwICAgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgZmlsbDogIzAwMTQxRjsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZWN0LCBjaXJjbGUsIHBvbHlnb24ge2ZpbGw6IG5vbmU7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgICAgICByZWN0LnRlcm1pbmFsICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgICAgICAgICAgICByZWN0Lm5vbnRlcm1pbmFsICAgICAge2ZpbGw6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHJlY3QudGV4dCAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHBvbHlnb24ucmVnZXhwICAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgICAgICA8L3N0eWxlPgogICAgPC9kZWZzPgogICAgPHBvbHlnb24gcG9pbnRzPSI5IDEwNSAxIDEwMSAxIDEwOSIvPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNyAxMDUgOSAxMDEgOSAxMDkiLz48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI0xhdW5jaF9Mb2FkX0JhbGFuY2luZ19Kb2IiIHhsaW5rOnRpdGxlPSJMYXVuY2hfTG9hZF9CYWxhbmNpbmdfSm9iIj4KICAgIDxyZWN0IHg9IjUxIiB5PSI5MSIgd2lkdGg9IjIwMiIgaGVpZ2h0PSIzMiIvPgogICAgPHJlY3QgeD0iNDkiIHk9Ijg5IiB3aWR0aD0iMjAyIiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNTkiIHk9IjEwOSI+TGF1bmNoX0xvYWRfQmFsYW5jaW5nX0pvYjwvdGV4dD48L2E+PHJlY3QgeD0iMjkzIiB5PSIxMjMiIHdpZHRoPSIzNCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIyOTEiIHk9IjEyMSIgd2lkdGg9IjM0IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzMDEiIHk9IjE0MSI+SUY8L3RleHQ+PGEgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhsaW5rOmhyZWY9IiNsb2FkX3JhdGlvIiB4bGluazp0aXRsZT0ibG9hZF9yYXRpbyI+CiAgICA8cmVjdCB4PSIzNDciIHk9IjEyMyIgd2lkdGg9Ijg0IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSIzNDUiIHk9IjEyMSIgd2lkdGg9Ijg0IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iMzU1IiB5PSIxNDEiPmxvYWRfcmF0aW88L3RleHQ+PC9hPjxyZWN0IHg9IjQ1MSIgeT0iMTIzIiB3aWR0aD0iMzAiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iNDQ5IiB5PSIxMjEiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDU5IiB5PSIxNDEiPiZndDs8L3RleHQ+CiAgICA8cmVjdCB4PSI1MDEiIHk9IjEyMyIgd2lkdGg9IjExOCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSI0OTkiIHk9IjEyMSIgd2lkdGg9IjExOCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNTA5IiB5PSIxNDEiPm1heC5sb2FkLnJhdGlvPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjUmViYWxhbmNlX0xvYWQiIHhsaW5rOnRpdGxlPSJSZWJhbGFuY2VfTG9hZCI+CiAgICA8cmVjdCB4PSI2MzkiIHk9IjEyMyIgd2lkdGg9IjEyNCIgaGVpZ2h0PSIzMiIvPgogICAgPHJlY3QgeD0iNjM3IiB5PSIxMjEiIHdpZHRoPSIxMjQiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgPHRleHQgY2xhc3M9Im5vbnRlcm1pbmFsIiB4PSI2NDciIHk9IjE0MSI+UmViYWxhbmNlX0xvYWQ8L3RleHQ+PC9hPjxyZWN0IHg9IjcxIiB5PSIzIiB3aWR0aD0iMjAyIiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgIDxyZWN0IHg9IjY5IiB5PSIxIiB3aWR0aD0iMjAyIiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI3OSIgeT0iMjEiPm4udXBkYXRlcy5wZXIubG9hZC5iYWxhbmNlPC90ZXh0PgogICAgPHJlY3QgeD0iMjkzIiB5PSIzIiB3aWR0aD0iMzAiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iMjkxIiB5PSIxIiB3aWR0aD0iMzAiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjMwMSIgeT0iMjEiPiZsdDs8L3RleHQ+PGEgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhsaW5rOmhyZWY9IiN1cGRhdGVzX3NpbmNlX2xhc3RfcmViYWxhbmNlIiB4bGluazp0aXRsZT0idXBkYXRlc19zaW5jZV9sYXN0X3JlYmFsYW5jZSI+CiAgICA8cmVjdCB4PSIzNDMiIHk9IjMiIHdpZHRoPSIyMTQiIGhlaWdodD0iMzIiLz4KICAgIDxyZWN0IHg9IjM0MSIgeT0iMSIgd2lkdGg9IjIxNCIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjM1MSIgeT0iMjEiPnVwZGF0ZXNfc2luY2VfbGFzdF9yZWJhbGFuY2U8L3RleHQ+PC9hPjxyZWN0IHg9IjcxIiB5PSI0NyIgd2lkdGg9IjI0NiIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSI2OSIgeT0iNDUiIHdpZHRoPSIyNDYiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9Ijc5IiB5PSI2NSI+bWFpbnRlbmFuY2Uuam9iLmh5c3RlcmVzaXMuaW4ubXM8L3RleHQ+CiAgICA8cmVjdCB4PSIzMzciIHk9IjQ3IiB3aWR0aD0iMzAiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iMzM1IiB5PSI0NSIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzNDUiIHk9IjY1Ij4mbHQ7PC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjdGltZV9zaW5jZV9sYXN0X3JlYmFsYW5jZSIgeGxpbms6dGl0bGU9InRpbWVfc2luY2VfbGFzdF9yZWJhbGFuY2UiPgogICAgPHJlY3QgeD0iMzg3IiB5PSI0NyIgd2lkdGg9IjE5MCIgaGVpZ2h0PSIzMiIvPgogICAgPHJlY3QgeD0iMzg1IiB5PSI0NSIgd2lkdGg9IjE5MCIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjM5NSIgeT0iNjUiPnRpbWVfc2luY2VfbGFzdF9yZWJhbGFuY2U8L3RleHQ+PC9hPjxyZWN0IHg9IjYxNyIgeT0iMyIgd2lkdGg9IjM0IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgIDxyZWN0IHg9IjYxNSIgeT0iMSIgd2lkdGg9IjM0IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI2MjUiIHk9IjIxIj5JRjwvdGV4dD4KICAgIDxwYXRoIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJsaW5lIiBkPSJtMTcgMTA1IGgyIG0yMCAwIGgxMCBtMjAyIDAgaDEwIG0yMCAwIGgxMCBtMCAwIGg0ODAgbS01MTAgMCBoMjAgbTQ5MCAwIGgyMCBtLTUzMCAwIHExMCAwIDEwIDEwIG01MTAgMCBxMCAtMTAgMTAgLTEwIG0tNTIwIDEwIHYxMiBtNTEwIDAgdi0xMiBtLTUxMCAxMiBxMCAxMCAxMCAxMCBtNDkwIDAgcTEwIDAgMTAgLTEwIG0tNTAwIDEwIGgxMCBtMzQgMCBoMTAgbTAgMCBoMTAgbTg0IDAgaDEwIG0wIDAgaDEwIG0zMCAwIGgxMCBtMCAwIGgxMCBtMTE4IDAgaDEwIG0wIDAgaDEwIG0xMjQgMCBoMTAgbS03NTIgLTMyIGwyMCAwIG0tMSAwIHEtOSAwIC05IC0xMCBsMCAtNjggcTAgLTEwIDEwIC0xMCBtNzUyIDg4IGwyMCAwIG0tMjAgMCBxMTAgMCAxMCAtMTAgbDAgLTY4IHEwIC0xMCAtMTAgLTEwIG0tNzMyIDAgaDEwIG0yMDIgMCBoMTAgbTAgMCBoMTAgbTMwIDAgaDEwIG0wIDAgaDEwIG0yMTQgMCBoMTAgbTAgMCBoMjAgbS01NDYgMCBoMjAgbTUyNiAwIGgyMCBtLTU2NiAwIHExMCAwIDEwIDEwIG01NDYgMCBxMCAtMTAgMTAgLTEwIG0tNTU2IDEwIHYyNCBtNTQ2IDAgdi0yNCBtLTU0NiAyNCBxMCAxMCAxMCAxMCBtNTI2IDAgcTEwIDAgMTAgLTEwIG0tNTM2IDEwIGgxMCBtMjQ2IDAgaDEwIG0wIDAgaDEwIG0zMCAwIGgxMCBtMCAwIGgxMCBtMTkwIDAgaDEwIG0yMCAtNDQgaDEwIG0zNCAwIGgxMCBtMCAwIGgxMzIgbTIzIDg4IGgtMyIvPgogICAgPHBvbHlnb24gcG9pbnRzPSI4MjEgMTA1IDgyOSAxMDEgODI5IDEwOSIvPgogICAgPHBvbHlnb24gcG9pbnRzPSI4MjEgMTA1IDgxMyAxMDEgODEzIDEwOSIvPjwvc3ZnPgo="></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="commit-strategy"></a>Commit strategy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#commit-strategy" title="Direct link to heading">#</a></h3><p>Uncommitted rows are committed either:</p><ul><li>after <code>line.tcp.maintenance.job.hysterisis.in.ms</code> milliseconds have passed</li><li>once reaching <code>line.tcp.max.uncommitted.rows</code> uncommitted rows.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h3><p>The TCP receiver configuration can be completely customised using
<a href="/docs/reference/configuration/server/#influxdb-line-protocol-tcp">configuration keys</a>.
You can use this to configure the tread pool, buffer and queue sizes, receiver
IP address and port, load balancing etc.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="udp-receiver"></a>UDP receiver<a aria-hidden="true" tabindex="-1" class="hash-link" href="#udp-receiver" title="Direct link to heading">#</a></h2><p>The UDP receiver can handle both single and multi row write requests. It is
currently single-threaded, and performs both network IO and write jobs out of
one thread. The UDP worker thread can work either on its own thread or use the
common thread pool. It supports both multicast and unicast.</p><p>Find an example of how to use this in the
<a href="/docs/api/java/#influxdb-sender-library/">InfluxDB sender library section</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview-1"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview-1" title="Direct link to heading">#</a></h3><p>By default, QuestDB listens for <code>multicast</code> line protocol packets over UDP on
<code>232.1.2.3:9009</code>. If you are running QuestDB with Docker, you will need to map
port 9009 using <code>-p 9009:9009 --net=host</code> and publish multicast packets with TTL
of at least 2. This port can be customised, and you can also configure QuestDB
to listen for <code>unicast</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="commit-strategy-1"></a>Commit strategy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#commit-strategy-1" title="Direct link to heading">#</a></h3><p>Uncommitted rows are committed either:</p><ul><li>after receiving a number of continuous messages equal to
<code>line.udp.commit.rate</code></li><li>when messages are no longer being received</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configuration-1"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration-1" title="Direct link to heading">#</a></h3><p>The UDP receiver configuration can be completely customised using
<a href="/docs/reference/configuration/server/#influxdb-line-protocol-udp">configuration keys</a>.
You can use this to configure the IP address and port the receiver binds to,
commit rates, buffer size, whether it should run on a separate thread etc.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/packages/binaries"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Binaries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/api/java"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Embedded Java API Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#using-line-protocol" class="table-of-contents__link">Using line protocol</a><ul><li><a href="#syntax" class="table-of-contents__link">Syntax</a></li><li><a href="#behaviour" class="table-of-contents__link">Behaviour</a></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#dealing-with-irregularly-structured-data" class="table-of-contents__link">Dealing with irregularly-structured data</a></li></ul></li><li><a href="#tcp-receiver" class="table-of-contents__link">TCP receiver</a><ul><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#load-balancing" class="table-of-contents__link">Load balancing</a></li><li><a href="#commit-strategy" class="table-of-contents__link">Commit strategy</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li></ul></li><li><a href="#udp-receiver" class="table-of-contents__link">UDP receiver</a><ul><li><a href="#overview-1" class="table-of-contents__link">Overview</a></li><li><a href="#commit-strategy-1" class="table-of-contents__link">Commit strategy</a></li><li><a href="#configuration-1" class="table-of-contents__link">Configuration</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer_mib0 section_3Kiu"><div class="footer__inner_z0Le section--inner_2xOo"><div class="footer__column_3Npq footer__column--left_1EuR"><img alt="QuestDB logo" class="footer__logo_29Wo" src="/img/footer/questdb.svg" title="QuestDB - Fastest open source database for time series and analytics"><p class="footer__tagline_2F15">QuestDB is the fastest open source time series database</p><a class="footer__github_8UHO button_Ni2_ button--icon_3YKU button--secondary_1x2U button--xsmall_3jz_" href="https://github.com/questdb/questdb" rel="noopener noreferrer" target="_blank"><img alt="GitHub logo" height="22" src="/img/github.svg" title="GitHub" width="22">Star us on GitHub</a></div><div class="footer__column_3Npq footer__column--right_1XPX"><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">QuestDB</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/docs/introduction/">Documentation</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://github.com/questdb/questdb/projects/3" rel="noopener noreferrer" target="_blank">Roadmap</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/careers/">Careers</a></li></ul></div><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">Community</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://slack.https://fsharechat.github.io/" rel="noopener noreferrer" target="_blank">Slack</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://twitter.com/questdb" rel="noopener noreferrer" target="_blank">Twitter</a></li></ul></div><div class="footer__links_3WB8"><ul class="footer__items_3gGI"><li class="footer__title_1y7h">More</li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="/blog/">Blog</a></li><li class="footer__item_1JzF"><a class="footer__link_2PDg" href="https://github.com/questdb/questdb" rel="noopener noreferrer" target="_blank">GitHub</a></li></ul></div></div></div><div class="footer__bottom_2RpL"><p class="footer__copyright_1o2i">Copyright Â© 2020 QuestDB</p></div></footer></div>
<script src="/styles.c1a63971.js" defer="defer"></script>
<script src="/main.6f3bf291.js" defer="defer"></script>
<script src="/common.3d2125a2.js" defer="defer"></script>
<script src="/1be78505.64fc942e.js" defer="defer"></script>
<script src="/935f2afb.36d044f2.js" defer="defer"></script>
<script src="/17896441.76815122.js" defer="defer"></script>
<script src="/cef9141e.76cdf2de.js" defer="defer"></script>
</body>
</html>