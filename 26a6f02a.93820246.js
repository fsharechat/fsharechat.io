(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{316:function(I,g,e){"use strict";e.r(g),g.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4ODMiIGhlaWdodD0iOTciPgogICAgPGRlZnM+CiAgICAgICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAgICAgQG5hbWVzcGFjZSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOwogICAgICAgICAgICAubGluZSAgICAgICAgICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogIzYzNjI3Mzt9CiAgICAgICAgICAgIC5ib2xkLWxpbmUgICAgICAgICAgICB7c3Ryb2tlOiAjNjM2MjczOyBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IHN0cm9rZS13aWR0aDogMjsgfQogICAgICAgICAgICAudGhpbi1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzfQogICAgICAgICAgICAuZmlsbGVkICAgICAgICAgICAgICAge2ZpbGw6ICM2MzYyNzM7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgIHRleHQudGVybWluYWwgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIGZpbGw6ICNmZmZmZmY7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRleHQubm9udGVybWluYWwgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIGZpbGw6ICNlMjg5YTQ7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGV4dC5yZWdleHAgICAgICAgICAgIHtmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIFVidW50dSwgQ2FudGFyZWxsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgZmlsbDogIzAwMTQxRjsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWN0LCBjaXJjbGUsIHBvbHlnb24ge2ZpbGw6IG5vbmU7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgIHJlY3QudGVybWluYWwgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiAjYmUyZjViO30KICAgICAgICAgICAgcmVjdC5ub250ZXJtaW5hbCAgICAgIHtmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgIHJlY3QudGV4dCAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgcG9seWdvbi5yZWdleHAgICAgICAgIHtmaWxsOiAjQzdFQ0ZGOyBzdHJva2U6ICMwMzhjYmM7fQogICAgICAgIDwvc3R5bGU+CiAgICA8L2RlZnM+CiAgICA8cG9seWdvbiBwb2ludHM9IjkgNjEgMSA1NyAxIDY1Ii8+CiAgICA8cG9seWdvbiBwb2ludHM9IjE3IDYxIDkgNTcgOSA2NSIvPgogICAgPHJlY3QgeD0iMzEiIHk9IjQ3IiB3aWR0aD0iNzAiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iMjkiIHk9IjQ1IiB3aWR0aD0iNzAiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjM5IiB5PSI2NSI+U0VMRUNUPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjY29sdW1uIiB4bGluazp0aXRsZT0iY29sdW1uIj4KICAgIDxyZWN0IHg9IjE0MSIgeT0iNDciIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIvPgogICAgPHJlY3QgeD0iMTM5IiB5PSI0NSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iMTQ5IiB5PSI2NSI+Y29sdW1uPC90ZXh0PjwvYT48cmVjdCB4PSIxNDEiIHk9IjMiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIxMzkiIHk9IjEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMTQ5IiB5PSIyMSI+LDwvdGV4dD4KICAgIDxyZWN0IHg9IjI0NSIgeT0iNDciIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIyNDMiIHk9IjQ1IiB3aWR0aD0iMjgiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjI1MyIgeT0iNjUiPiAsPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjYWdncmVnYXRpb24iIHhsaW5rOnRpdGxlPSJhZ2dyZWdhdGlvbiI+CiAgICA8cmVjdCB4PSIzMTMiIHk9IjQ3IiB3aWR0aD0iOTYiIGhlaWdodD0iMzIiLz4KICAgIDxyZWN0IHg9IjMxMSIgeT0iNDUiIHdpZHRoPSI5NiIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjMyMSIgeT0iNjUiPmFnZ3JlZ2F0aW9uPC90ZXh0PjwvYT48cmVjdCB4PSIzMTMiIHk9IjMiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIzMTEiIHk9IjEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMzIxIiB5PSIyMSI+LDwvdGV4dD4KICAgIDxyZWN0IHg9IjQ0OSIgeT0iNDciIHdpZHRoPSI2MCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSI0NDciIHk9IjQ1IiB3aWR0aD0iNjAiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ1NyIgeT0iNjUiPkZST008L3RleHQ+PGEgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhsaW5rOmhyZWY9IiN0YWJsZSIgeGxpbms6dGl0bGU9InRhYmxlIj4KICAgIDxyZWN0IHg9IjUyOSIgeT0iNDciIHdpZHRoPSI1MiIgaGVpZ2h0PSIzMiIvPgogICAgPHJlY3QgeD0iNTI3IiB5PSI0NSIgd2lkdGg9IjUyIiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNTM3IiB5PSI2NSI+dGFibGU8L3RleHQ+PC9hPjxyZWN0IHg9IjYyMSIgeT0iNDciIHdpZHRoPSI5MCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSI2MTkiIHk9IjQ1IiB3aWR0aD0iOTAiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjYyOSIgeT0iNjUiPkdST1VQIEJZPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjY29sdW1uIiB4bGluazp0aXRsZT0iY29sdW1uIj4KICAgIDxyZWN0IHg9Ijc1MSIgeT0iNDciIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIvPgogICAgPHJlY3QgeD0iNzQ5IiB5PSI0NSIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNzU5IiB5PSI2NSI+Y29sdW1uPC90ZXh0PjwvYT48cmVjdCB4PSI3NTEiIHk9IjMiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSI3NDkiIHk9IjEiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNzU5IiB5PSIyMSI+LDwvdGV4dD4KICAgIDxwYXRoIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGNsYXNzPSJsaW5lIiBkPSJtMTcgNjEgaDIgbTAgMCBoMTAgbTcwIDAgaDEwIG0yMCAwIGgxMCBtNjQgMCBoMTAgbS0xMDQgMCBsMjAgMCBtLTEgMCBxLTkgMCAtOSAtMTAgbDAgLTI0IHEwIC0xMCAxMCAtMTAgbTg0IDQ0IGwyMCAwIG0tMjAgMCBxMTAgMCAxMCAtMTAgbDAgLTI0IHEwIC0xMCAtMTAgLTEwIG0tODQgMCBoMTAgbTI0IDAgaDEwIG0wIDAgaDQwIG0yMCA0NCBoMTAgbTI4IDAgaDEwIG0yMCAwIGgxMCBtOTYgMCBoMTAgbS0xMzYgMCBsMjAgMCBtLTEgMCBxLTkgMCAtOSAtMTAgbDAgLTI0IHEwIC0xMCAxMCAtMTAgbTExNiA0NCBsMjAgMCBtLTIwIDAgcTEwIDAgMTAgLTEwIGwwIC0yNCBxMCAtMTAgLTEwIC0xMCBtLTExNiAwIGgxMCBtMjQgMCBoMTAgbTAgMCBoNzIgbTIwIDQ0IGgxMCBtNjAgMCBoMTAgbTAgMCBoMTAgbTUyIDAgaDEwIG0yMCAwIGgxMCBtOTAgMCBoMTAgbTIwIDAgaDEwIG02NCAwIGgxMCBtLTEwNCAwIGwyMCAwIG0tMSAwIHEtOSAwIC05IC0xMCBsMCAtMjQgcTAgLTEwIDEwIC0xMCBtODQgNDQgbDIwIDAgbS0yMCAwIHExMCAwIDEwIC0xMCBsMCAtMjQgcTAgLTEwIC0xMCAtMTAgbS04NCAwIGgxMCBtMjQgMCBoMTAgbTAgMCBoNDAgbS0yMzQgNDQgaDIwIG0yMzQgMCBoMjAgbS0yNzQgMCBxMTAgMCAxMCAxMCBtMjU0IDAgcTAgLTEwIDEwIC0xMCBtLTI2NCAxMCB2MTQgbTI1NCAwIHYtMTQgbS0yNTQgMTQgcTAgMTAgMTAgMTAgbTIzNCAwIHExMCAwIDEwIC0xMCBtLTI0NCAxMCBoMTAgbTAgMCBoMjI0IG0yMyAtMzQgaC0zIi8+CiAgICA8cG9seWdvbiBwb2ludHM9Ijg3MyA2MSA4ODEgNTcgODgxIDY1Ii8+CiAgICA8cG9seWdvbiBwb2ludHM9Ijg3MyA2MSA4NjUgNTcgODY1IDY1Ii8+PC9zdmc+"},98:function(I,g,e){"use strict";e.r(g),e.d(g,"frontMatter",(function(){return a})),e.d(g,"metadata",(function(){return A})),e.d(g,"rightToc",(function(){return n})),e.d(g,"default",(function(){return b}));var i=e(2),C=e(6),t=(e(0),e(218)),a={title:"GROUP BY keyword",sidebar_label:"GROUP BY",description:"GROUP BY SQL keyword reference documentation."},A={unversionedId:"reference/sql/group-by",id:"reference/sql/group-by",isDocsHomePage:!1,title:"GROUP BY keyword",description:"GROUP BY SQL keyword reference documentation.",source:"@site/docs/reference/sql/group-by.md",slug:"/reference/sql/group-by",permalink:"/docs/reference/sql/group-by",version:"current",sidebar_label:"GROUP BY",sidebar:"docs",previous:{title:"DROP TABLE keyword",permalink:"/docs/reference/sql/drop"},next:{title:"INSERT keyword",permalink:"/docs/reference/sql/insert"}},n=[{value:"Syntax",id:"syntax",children:[]},{value:"Examples",id:"examples",children:[]}],s={rightToc:n};function b(I){var g=I.components,a=Object(C.a)(I,["components"]);return Object(t.b)("wrapper",Object(i.a)({},s,a,{components:g,mdxType:"MDXLayout"}),Object(t.b)("p",null,"Groups aggregation calculations by one or several keys. In QuestDB, this clause\nis ",Object(t.b)("a",Object(i.a)({parentName:"p"},{href:"/docs/concept/sql-extensions/#optionality-of-group-by/"}),"optional"),"."),Object(t.b)("h2",{id:"syntax"},"Syntax"),Object(t.b)("p",null,Object(t.b)("img",{alt:"Flow chart showing the syntax of the GROUP BY keyword",src:e(316).default})),Object(t.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(t.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-heading"}),Object(t.b)("h5",{parentName:"div"},Object(t.b)("span",Object(i.a)({parentName:"h5"},{className:"admonition-icon"}),Object(t.b)("svg",Object(i.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(t.b)("path",Object(i.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(t.b)("div",Object(i.a)({parentName:"div"},{className:"admonition-content"}),Object(t.b)("p",{parentName:"div"},"QuestDB groups aggregation results implicitly and does not require the GROUP BY\nkeyword. It is only supported for convenience. Using the GROUP BY clause\nexplicitly will return the same results as if the clause was omitted."))),Object(t.b)("h2",{id:"examples"},"Examples"),Object(t.b)("p",null,"The below queries perform aggregations on a single key. Using ",Object(t.b)("inlineCode",{parentName:"p"},"GROUP BY"),"\nexplicitly or implicitly yields the same results:"),Object(t.b)("pre",null,Object(t.b)("code",Object(i.a)({parentName:"pre"},{className:"language-questdb-sql",metastring:'title="Single key aggregation, explicit GROUP BY"',title:'"Single',key:!0,"aggregation,":!0,explicit:!0,GROUP:!0,'BY"':!0}),"SELECT sensorId, avg(temp)\nFROM readings\nGROUP BY sensorId;\n")),Object(t.b)("pre",null,Object(t.b)("code",Object(i.a)({parentName:"pre"},{className:"language-questdb-sql",metastring:'title="Single key aggregation, implicit GROUP BY"',title:'"Single',key:!0,"aggregation,":!0,implicit:!0,GROUP:!0,'BY"':!0}),"SELECT sensorId, avg(temp)\nFROM readings;\n")),Object(t.b)("p",null,"The below queries perform aggregations on multiple keys. Using ",Object(t.b)("inlineCode",{parentName:"p"},"GROUP BY"),"\nexplicitly or implicitly yields the same results:"),Object(t.b)("pre",null,Object(t.b)("code",Object(i.a)({parentName:"pre"},{className:"language-questdb-sql",metastring:'title="Multiple key aggregation, explicit GROUP BY"',title:'"Multiple',key:!0,"aggregation,":!0,explicit:!0,GROUP:!0,'BY"':!0}),"SELECT sensorId, sensorType, avg(temp)\nFROM readings\nGROUP BY sensorId,sensorType;\n")),Object(t.b)("pre",null,Object(t.b)("code",Object(i.a)({parentName:"pre"},{className:"language-questdb-sql",metastring:'title="Multiple key aggregation, implicit GROUP BY"',title:'"Multiple',key:!0,"aggregation,":!0,implicit:!0,GROUP:!0,'BY"':!0}),"SELECT sensorId, sensorType, avg(temp)\nFROM readings;\n")),Object(t.b)("p",null,"When used explicitly, the list of keys in the ",Object(t.b)("inlineCode",{parentName:"p"},"GROUP BY")," clause must match the\nlist of keys in the ",Object(t.b)("inlineCode",{parentName:"p"},"SELECT")," clause, otherwise an error will be returned:"),Object(t.b)("pre",null,Object(t.b)("code",Object(i.a)({parentName:"pre"},{className:"language-questdb-sql",metastring:'title="Error - Column b is missing in the GROUP BY clause"',title:'"Error',"-":!0,Column:!0,b:!0,is:!0,missing:!0,in:!0,the:!0,GROUP:!0,BY:!0,'clause"':!0}),"SELECT a, b, avg(temp)\nFROM tab\nGROUP BY a;\n")),Object(t.b)("pre",null,Object(t.b)("code",Object(i.a)({parentName:"pre"},{className:"language-questdb-sql",metastring:'title="Error - Column b is missing in the SELECT clause"',title:'"Error',"-":!0,Column:!0,b:!0,is:!0,missing:!0,in:!0,the:!0,SELECT:!0,'clause"':!0}),"SELECT a, avg(temp)\nFROM tab\nGROUP BY a, b;\n")),Object(t.b)("pre",null,Object(t.b)("code",Object(i.a)({parentName:"pre"},{className:"language-questdb-sql",metastring:'title="Success - Columns match"',title:'"Success',"-":!0,Columns:!0,'match"':!0}),"SELECT a, b, avg(temp)\nFROM tab\nGROUP BY a, b;\n")))}b.isMDXComponent=!0}}]);